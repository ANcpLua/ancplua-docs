---
title: 'Analyzers'
sidebarTitle: 'Overview'
description: 'Roslyn analyzers for code quality and bug prevention.'
icon: 'shield-check'
---

ANcpLua.Analyzers enforces code quality and prevents common bugs. Included automatically with [ANcpLua.NET.Sdk](/sdk/overview).

## Categories

| Category          | Rules | Examples                                                         |
| ----------------- | ----- | ---------------------------------------------------------------- |
| Design            | 4     | Primary constructor patterns, type partialness                   |
| Usage             | 17    | Span comparisons, IXmlSerializable, static lambdas, Roslyn utils |
| Style             | 3     | Pattern matching, null-guard normalization                       |
| ASP.NET Core      | 5     | Form binding, parameter validation                               |
| OpenTelemetry     | 2     | Semantic conventions, schema URLs                                |
| Threading         | 1     | Lock statement best practices                                    |
| Reliability       | 3     | Division by zero, trim/AOT safety                                |
| VersionManagement | 2     | Hardcoded version, Version.props import                          |
| AOT/Trim Safety   | 4     | AotTest return codes, TrimSafe/AotSafe violations                |

## Rules

| Id                                | Category          | Description                                             | Severity | Fix |
| --------------------------------- | ----------------- | ------------------------------------------------------- | :------: | :-: |
| [AL0001](/analyzers/rules/AL0001) | Design            | Prohibit reassignment of primary constructor parameters |  Error   |  -  |
| [AL0002](/analyzers/rules/AL0002) | Design            | Don't repeat negated patterns                           | Warning  | Yes |
| [AL0003](/analyzers/rules/AL0003) | Reliability       | Don't divide by constant zero                           |  Error   |  -  |
| [AL0004](/analyzers/rules/AL0004) | Usage             | Use pattern matching for Span constants                 | Warning  | Yes |
| [AL0005](/analyzers/rules/AL0005) | Usage             | Use SequenceEqual for Span non-constants                | Warning  | Yes |
| [AL0006](/analyzers/rules/AL0006) | Design            | Field name conflicts with primary constructor           | Warning  |  -  |
| [AL0007](/analyzers/rules/AL0007) | Usage             | GetSchema should be explicitly implemented              |  Error   |  -  |
| [AL0008](/analyzers/rules/AL0008) | Usage             | GetSchema must return null                              |  Error   | Yes |
| [AL0009](/analyzers/rules/AL0009) | Usage             | Don't call IXmlSerializable.GetSchema                   |  Error   |  -  |
| [AL0010](/analyzers/rules/AL0010) | Design            | Type should be partial                                  |   Info   | Yes |
| [AL0011](/analyzers/rules/AL0011) | Threading         | Avoid lock on non-Lock types                            | Warning  | Yes |
| [AL0012](/analyzers/rules/AL0012) | OpenTelemetry     | Deprecated semantic convention                          | Warning  | Yes |
| [AL0013](/analyzers/rules/AL0013) | OpenTelemetry     | Missing telemetry schema URL                            |   Info   |  -  |
| [AL0014](/analyzers/rules/AL0014) | Style             | Prefer pattern matching for null/zero                   | Warning  | Yes |
| [AL0015](/analyzers/rules/AL0015) | Style             | Normalize null-guard style                              |   Info   | Yes |
| [AL0016](/analyzers/rules/AL0016) | Style             | Combine declaration with null-check                     |   Info   | Yes |
| [AL0017](/analyzers/rules/AL0017) | VersionManagement | Hardcoded package version                               | Warning  |  -  |
| [AL0018](/analyzers/rules/AL0018) | VersionManagement | Version.props not imported                              | Warning  |  -  |
| [AL0020](/analyzers/rules/AL0020) | ASP.NET Core      | IFormCollection requires explicit attribute             |  Error   |  -  |
| [AL0021](/analyzers/rules/AL0021) | ASP.NET Core      | Multiple structured form sources                        |  Error   |  -  |
| [AL0022](/analyzers/rules/AL0022) | ASP.NET Core      | Mixed form collection and DTO                           |  Error   |  -  |
| [AL0023](/analyzers/rules/AL0023) | ASP.NET Core      | Unsupported form type                                   |  Error   |  -  |
| [AL0024](/analyzers/rules/AL0024) | ASP.NET Core      | Form and body conflict                                  |  Error   |  -  |
| [AL0025](/analyzers/rules/AL0025) | Usage             | Anonymous function can be static                        | Warning  | Yes |
| [AL0026](/analyzers/rules/AL0026) | Usage             | Avoid DateTime.Now/UtcNow, use TimeProvider             | Warning  |  -  |
| [AL0027](/analyzers/rules/AL0027) | Usage             | Avoid Newtonsoft.Json, use System.Text.Json             | Warning  |  -  |
| [AL0028](/analyzers/rules/AL0028) | Usage             | Use IsEqualTo() for symbol comparison                   |   Info   |  -  |
| [AL0029](/analyzers/rules/AL0029) | Usage             | Use HasAttribute() for attribute checks                 |   Info   |  -  |
| [AL0030](/analyzers/rules/AL0030) | Usage             | Use type hierarchy extensions                           |   Info   |  -  |
| [AL0031](/analyzers/rules/AL0031) | Usage             | Use operation extensions                                |   Info   |  -  |
| [AL0032](/analyzers/rules/AL0032) | Usage             | Use OrEmpty() extension                                 |   Info   |  -  |
| [AL0033](/analyzers/rules/AL0033) | Usage             | Use ToImmutableArrayOrEmpty() extension                 |   Info   |  -  |
| [AL0034](/analyzers/rules/AL0034) | Usage             | Use WhereNotNull() extension                            |   Info   |  -  |
| [AL0035](/analyzers/rules/AL0035) | Usage             | Use GetFullyQualifiedName/GetMetadataName()             |   Info   |  -  |
| [AL0036](/analyzers/rules/AL0036) | Usage             | Use Guard.NotNull() extension                           | Warning  |  -  |
| [AL0037](/analyzers/rules/AL0037) | Usage             | Use TryParse extensions                                 | Warning  |  -  |
| [AL0038](/analyzers/rules/AL0038) | Usage             | Use GetOrNull/GetOrDefault extensions                   | Warning  |  -  |
| [AL0039](/analyzers/rules/AL0039) | Usage             | Use StringComparison extensions                         | Warning  |  -  |
| [AL0040](/analyzers/rules/AL0040) | Usage             | Use attribute argument extensions                       | Warning  |  -  |
| [AL0041](/analyzers/rules/AL0041) | AOT/Trim          | [AotTest]/[TrimTest] must return int                    |  Error   |  -  |
| [AL0042](/analyzers/rules/AL0042) | AOT/Trim          | [AotTest]/[TrimTest] should return 100                  | Warning  |  -  |
| [AL0043](/analyzers/rules/AL0043) | Reliability       | [TrimSafe] violates trim safety                         | Warning  |  -  |
| [AL0044](/analyzers/rules/AL0044) | Reliability       | [AotSafe] violates AOT safety                           | Warning  |  -  |

## Refactorings

| Id                                | Description               |
| --------------------------------- | ------------------------- |
| [AR0001](/analyzers/rules/AR0001) | Snake case to Pascal case |
| [AR0002](/analyzers/rules/AR0002) | Make static lambda        |

## Configuration

Configure via `.editorconfig`. See [Configuration](/analyzers/configuration).

```ini
[*.cs]
dotnet_diagnostic.AL0014.severity = warning
dotnet_diagnostic.AL0010.severity = none
```
